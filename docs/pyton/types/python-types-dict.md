---
title: "Словари (dict)"
author: Stavis Vega
date: "2022-02-07"
description: "Словари в python. Работа со словарями методы словарей."
tags: ["python", "programing", "types", "dict"]
categories: ["python", "programing"]
ShowBreadCrumbs: true
ShowToc: true
TocOpen: true
---
## Создание словарей

### Как выглядит словарь python

Что такое словарь.  
Словарь — неупорядоченная структура данных, которая позволяет хранить пары «ключ — значение».  
Вот пример словаря на Python:

```python
dictionary = {'персона': 'человек',
              'марафон': 'гонка бегунов длиной около 26 миль',
              'противостоять': 'оставаться сильным, несмотря на давление',
              'бежать': 'двигаться со скоростью'}
```

Данный словарь использует строки в качестве ключей, однако ключом может являться в принципе любой неизменяемый тип данных. Значением же конкретного ключа может быть что угодно. Вот ещё один пример словаря, где ключами являются числа, а значениями — строки:

```python
gender_dict = {0: 'муж',
               1: 'жен'}
story_count = {'сто': 100,
               'девяносто': 90,
               'двенадцать': 12,
               'пять': 5}
```

Важное уточнение: если вы попробуете использовать изменяемый тип данных в качестве ключа, то получите ошибку:

```python
dictionary = {(1, 2.0): 'кортежи могут быть ключами',
              1: 'целые числа могут быть ключами',
              'бежать': 'строки тоже', 
              ['носок', 1, 2.0]: 'а списки не могут'}
```

Прим. перев. На самом деле проблема не с изменяемыми, а с нехэшируемыми типами данных, но обычно это одно и то же.

### Получение данных из словаря

Для получения значения конкретного ключа используются квадратные скобки `[]`. 
Предположим, что в нашем словаре есть пара `'марафон': 26`.

```py
# берём значение с ключом "марафон"
dictionary['марафон']
```

Опять же, вы получите ошибку, если попытаетесь получить значение по несуществующему ключу.  
Для избежания подобных ошибок существуют методы, о которых мы сейчас поговорим.

### Добавление и обновление ключей

Добавление новых пар в словарь происходит достаточно просто:

```py
# Добавляем ключ "туфля" со значением "род обуви, закрывающей ногу не выше щиколотки"
dictionary['туфля'] = 'род обуви, закрывающей ногу не выше щиколотки'
```

Обновление существующих значений происходит абсолютно также:

```py
# Обновляем ключ "туфля" и присваиваем ему значение "хорошая туфля"
dictionary['туфля'] = 'хорошая туфля'
```

### Удаление ключей

Для удаления ключа и соответствующего значения из словаря можно использовать del

```py
# Удаляем значение с ключом "противостоять" из словаря
del dictionary['противостоять']
```

## Методы словарей

Словари в Python имеют множество различных полезных методов, которые помогут вам в работе с ними. Вот лишь некоторые из них:

### get()

`dict.get(key[, default])` - возвращает значение ключа, но если его нет, не бросает исключение, а возвращает `default` (по умолчанию `None`).

```python
# Допустим, у нас есть словарь story_count
story_count = {'сто': 100,
               'девяносто': 90,
               'двенадцать': 12,
               'пять': 5}
```

Метод `get()` возвращает значение по указанному ключу. Если указанного ключа не существует, метод вернёт `None`.

```python
# Ключ "двенадцать" существует и метод get в данном случае вернёт 12
story_count.get('двенадцать')
```

Метод можно использовать для проверки наличия ключей в словаре:

```python
story_count.get('два')
None
```

Также можно указать значение по умолчанию, которое будет возвращено вместо `None`, если ключа в словаре не окажется:

```python
# Метод вернёт 0 в случае, если данного ключа не существует
story_count.get('два', 0)
```

### update()

Метод `update()` пригодится, если нужно обновить несколько пар сразу.  
Метод принимает другой словарь в качестве аргумента.

```py
# Начальный словарь
dictionary = {'персона': 'человек',
              'марафон': 'гонка бегунов длиной около 26 миль',
              'противостоять': 'оставаться сильным, несмотря на давление',
              'бежать': 'двигаться со скоростью'}

# Добавляем две пары в словарь dictionary, используя метод update
dictionary.update({'бежал': 'бежать в прошедшем времени',
                   'туфли': 'туфля во множественном числе'})

print(dictionary)

#        {'марафон': 'гонка бегунов длиной около 26 миль',
#        'персона': 'человек',
#        'бежал': 'бежать в прошедшем времени',
#        'бежать': 'двигаться со скоростью',
#        'туфля': 'род обуви, закрывающей ногу не выше щиколотки',
#        'туфли': 'туфля во множественном числе'}
```

Если вас интересует, почему данные в словаре расположены не в том порядке, в котором они были внесены в него, то это потому что словари не упорядочены.

### pop()

Метод `pop()` удаляет ключ и возвращает соответствующее ему значение.

```py
story_count = {'сто': 100,
               'девяносто': 90,
               'двенадцать': 12,
               'пять': 5}

story_count.pop('девяносто')
# >>> 90
print(story_count)
# >>> {'двенадцать': 12, 'сто': 100, 'пять': 5}
```

### keys()

Метод `keys()` возвращает коллекцию ключей в словаре.

```py
print(story_count.keys())

# >>> ['сто', 'пять', 'двенадцать']
```

### values()

Метод `values()` возвращает коллекцию значений в словаре.

```py
print(story_count.values())

# >>> [100, 12, 5]
```

### items()

Метод `items()` возвращает пары «ключ — значение».

```py
>>> dictionary.items()
[('персона', 'человек'),
('бежать', 'двигаться со скоростью'),
('туфля', 'род обуви, закрывающей ногу не выше щиколотки'),
('бежал', 'бежать в прошедшем времени'),
('марафон', 'гонка бегунов длиной около 26 миль'),
('туфли', 'туфля во множественном числе')]
```

## Примеры

### Итерация через словарь

Вы можете провести итерацию по каждому ключу в словаре.

```py

story_count = {'сто': 100,
               'девяносто': 90,
               'двенадцать': 12,
               'пять': 5}

for key in story_count:
   print(key)

# сто
# девяносто
# двенадцать
# пять
```

Очевидно, вместо `story_count` можно использовать `story_count.keys()`.  

В примере кода ниже ниже цикл `for` использует метод `items()` для получения пары «ключ — значение» на каждую итерацию.

```py
for key, value in dictionary.items():
    print(key, value)

# >>> ('персона', 'человек')
# >>> ('бежать', 'двигаться со скоростью')
# >>> ('туфля', 'род обуви, закрывающей ногу не выше щиколотки')
# >>> ('бежал', 'бежать в прошедшем времени')
# >>> ('марафон', 'гонка бегунов длиной около 26 миль')
# >>> ('туфли', 'туфля во множественном числе')
```

### Сортировка словаря

Сотритовка может производиться разными способами.
Пример сортировки по ключу

```py
my_dict = {'сто': 100,
               'девяносто': 90,
               'двенадцать': 12,
               'пять': 5}

result = {key: val for key, val in sorted(my_dict.items(), key = lambda ele: ele[0])}

# result -> {'двенадцать': 12, 'девяносто': 90, 'пять': 5, 'сто': 100}
````